<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manajemen Nomor JSON GitHub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .login-container, .dashboard {
            padding: 40px;
            transition: all 0.3s ease;
        }
        
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .dashboard {
            display: none;
        }
        
        h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
            font-size: 28px;
        }
        
        h2 {
            color: #444;
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .form-group {
            width: 100%;
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus {
            border-color: #6a11cb;
            outline: none;
            box-shadow: 0 0 0 2px rgba(106, 17, 203, 0.2);
        }
        
        button {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .logout-btn {
            background: #e74c3c;
            width: auto;
            padding: 8px 15px;
            margin-bottom: 20px;
            float: right;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .action-buttons button {
            flex: 1;
        }
        
        .add-btn {
            background: #2ecc71;
        }
        
        .delete-btn {
            background: #e74c3c;
        }
        
        .refresh-btn {
            background: #3498db;
        }
        
        .number-list {
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 6px;
            padding: 10px;
            background-color: #f9f9f9;
        }
        
        .number-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }
        
        .number-item:hover {
            background-color: #f0f0f0;
        }
        
        .number-item:last-child {
            border-bottom: none;
        }
        
        .number-item span {
            font-size: 16px;
        }
        
        .checkbox {
            width: auto;
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .message {
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 500;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .modal h2 {
            margin-bottom: 20px;
            color: #333;
        }
        
        .modal-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .modal-buttons button {
            width: 48%;
        }
        
        .cancel-btn {
            background: #95a5a6;
        }
        
        .empty-state {
            text-align: center;
            padding: 30px;
            color: #777;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #bbb;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        @media (max-width: 600px) {
            .container {
                max-width: 100%;
            }
            
            .login-container, .dashboard {
                padding: 20px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Form -->
        <div class="login-container" id="loginContainer">
            <h1><i class="fas fa-lock"></i> Login ke Dashboard</h1>
            <div class="form-group">
                <label for="username"><i class="fas fa-user"></i> Username</label>
                <input type="text" id="username" placeholder="Masukkan username">
            </div>
            <div class="form-group">
                <label for="password"><i class="fas fa-key"></i> Password</label>
                <input type="password" id="password" placeholder="Masukkan password">
            </div>
            <button id="loginBtn"><i class="fas fa-sign-in-alt"></i> Login</button>
            <div id="loginMessage" class="message" style="display: none;"></div>
        </div>
        
        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            <h1><i class="fas fa-database"></i> Manajemen Nomor JSON GitHub</h1>
            
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalNumbers">0</div>
                    <div class="stat-label">Total Nomor</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="selectedNumbers">0</div>
                    <div class="stat-label">Terpilih</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="add-btn" id="addNumberBtn"><i class="fas fa-plus"></i> Tambah Nomor</button>
                <button class="delete-btn" id="deleteNumberBtn"><i class="fas fa-trash"></i> Hapus Nomor Terpilih</button>
                <button class="refresh-btn" id="refreshBtn"><i class="fas fa-sync-alt"></i> Refresh Daftar</button>
            </div>
            
            <div id="message" class="message" style="display: none;"></div>
            
            <h2><i class="fas fa-list"></i> Daftar Nomor</h2>
            <div class="number-list" id="numberList">
                <!-- Daftar nomor akan ditampilkan di sini -->
            </div>
        </div>
    </div>
    
    <!-- Modal untuk menambah nomor -->
    <div class="modal" id="addNumberModal">
        <div class="modal-content">
            <h2><i class="fas fa-plus"></i> Tambah Nomor Baru</h2>
            <div class="form-group">
                <label for="newNumber">Nomor</label>
                <input type="number" id="newNumber" placeholder="Masukkan nomor">
            </div>
            <div class="modal-buttons">
                <button class="cancel-btn" id="cancelAddBtn"><i class="fas fa-times"></i> Batal</button>
                <button class="add-btn" id="confirmAddBtn"><i class="fas fa-check"></i> Tambah</button>
            </div>
        </div>
    </div>
    
    <!-- Modal untuk konfirmasi hapus -->
    <div class="modal" id="confirmDeleteModal">
        <div class="modal-content">
            <h2><i class="fas fa-exclamation-triangle"></i> Konfirmasi Hapus</h2>
            <p>Apakah Anda yakin ingin menghapus <span id="deleteCount">0</span> nomor yang dipilih?</p>
            <div class="modal-buttons">
                <button class="cancel-btn" id="cancelDeleteBtn"><i class="fas fa-times"></i> Batal</button>
                <button class="delete-btn" id="confirmDeleteBtn"><i class="fas fa-trash"></i> Hapus</button>
            </div>
        </div>
    </div>

    <script>
        // Konfigurasi GitHub
        const GITHUB_TOKEN = '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';
        const GITHUB_USER = 'zionjs';
        const GITHUB_REPO = 'database';
        const GITHUB_BRANCH = 'main';
        const GITHUB_FILE_PATH = 'number.json';
        
        // Kredensial login
        const VALID_USERNAME = 'lyrramd';
        const VALID_PASSWORD = 'lyrramd1';
        
        // Elemen DOM
        const loginContainer = document.getElementById('loginContainer');
        const dashboard = document.getElementById('dashboard');
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const loginBtn = document.getElementById('loginBtn');
        const loginMessage = document.getElementById('loginMessage');
        const logoutBtn = document.getElementById('logoutBtn');
        const addNumberBtn = document.getElementById('addNumberBtn');
        const deleteNumberBtn = document.getElementById('deleteNumberBtn');
        const refreshBtn = document.getElementById('refreshBtn');
        const numberList = document.getElementById('numberList');
        const message = document.getElementById('message');
        const addNumberModal = document.getElementById('addNumberModal');
        const confirmDeleteModal = document.getElementById('confirmDeleteModal');
        const newNumberInput = document.getElementById('newNumber');
        const cancelAddBtn = document.getElementById('cancelAddBtn');
        const confirmAddBtn = document.getElementById('confirmAddBtn');
        const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
        const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
        const deleteCount = document.getElementById('deleteCount');
        const totalNumbers = document.getElementById('totalNumbers');
        const selectedNumbers = document.getElementById('selectedNumbers');
        
        // Event Listeners
        loginBtn.addEventListener('click', handleLogin);
        logoutBtn.addEventListener('click', handleLogout);
        addNumberBtn.addEventListener('click', showAddNumberModal);
        deleteNumberBtn.addEventListener('click', showDeleteConfirmModal);
        refreshBtn.addEventListener('click', loadNumbers);
        cancelAddBtn.addEventListener('click', hideAddNumberModal);
        confirmAddBtn.addEventListener('click', addNewNumber);
        cancelDeleteBtn.addEventListener('click', hideDeleteConfirmModal);
        confirmDeleteBtn.addEventListener('click', deleteSelectedNumbers);
        
        // Event listener untuk Enter pada form login
        usernameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') handleLogin();
        });
        
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') handleLogin();
        });
        
        // Event listener untuk Enter pada modal tambah nomor
        newNumberInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addNewNumber();
        });
        
        // Fungsi untuk menangani login
        function handleLogin() {
            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();
            
            if (username === VALID_USERNAME && password === VALID_PASSWORD) {
                loginMessage.textContent = 'Login berhasil! Mengarahkan ke dashboard...';
                loginMessage.className = 'message success';
                loginMessage.style.display = 'block';
                
                setTimeout(() => {
                    loginContainer.style.display = 'none';
                    dashboard.style.display = 'block';
                    loadNumbers();
                }, 1000);
            } else {
                loginMessage.textContent = 'Username atau password salah!';
                loginMessage.className = 'message error';
                loginMessage.style.display = 'block';
            }
        }
        
        // Fungsi untuk menangani logout
        function handleLogout() {
            dashboard.style.display = 'none';
            loginContainer.style.display = 'flex';
            usernameInput.value = '';
            passwordInput.value = '';
            loginMessage.style.display = 'none';
        }
        
        // Fungsi untuk memuat daftar nomor dari GitHub
        async function loadNumbers() {
            try {
                showMessage('Memuat daftar nomor...', 'info');
                
                const response = await fetch(`https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/${GITHUB_FILE_PATH}?t=${new Date().getTime()}`);
                
                if (!response.ok) {
                    throw new Error(`Gagal mengambil data: ${response.status}`);
                }
                
                const data = await response.json();
                displayNumbers(data.numbers || []);
                showMessage('Daftar nomor berhasil dimuat', 'success');
            } catch (error) {
                console.error('Error loading numbers:', error);
                showMessage('Gagal memuat daftar nomor: ' + error.message, 'error');
            }
        }
        
        // Fungsi untuk menampilkan daftar nomor
        function displayNumbers(numbers) {
            numberList.innerHTML = '';
            totalNumbers.textContent = numbers.length;
            selectedNumbers.textContent = '0';
            
            if (numbers.length === 0) {
                numberList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-inbox"></i>
                        <p>Tidak ada nomor dalam daftar</p>
                    </div>
                `;
                return;
            }
            
            numbers.forEach((number, index) => {
                const numberItem = document.createElement('div');
                numberItem.className = 'number-item';
                
                numberItem.innerHTML = `
                    <div>
                        <input type="checkbox" class="checkbox" id="number-${index}" data-number="${number}">
                        <label for="number-${index}">${number}</label>
                    </div>
                    <span>#${index + 1}</span>
                `;
                
                numberList.appendChild(numberItem);
            });
            
            // Tambahkan event listener untuk checkbox
            const checkboxes = document.querySelectorAll('.checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedCount);
            });
        }
        
        // Fungsi untuk memperbarui jumlah nomor yang dipilih
        function updateSelectedCount() {
            const selectedCount = document.querySelectorAll('.checkbox:checked').length;
            selectedNumbers.textContent = selectedCount;
        }
        
        // Fungsi untuk menampilkan modal tambah nomor
        function showAddNumberModal() {
            newNumberInput.value = '';
            addNumberModal.style.display = 'flex';
            newNumberInput.focus();
        }
        
        // Fungsi untuk menyembunyikan modal tambah nomor
        function hideAddNumberModal() {
            addNumberModal.style.display = 'none';
        }
        
        // Fungsi untuk menambahkan nomor baru
        async function addNewNumber() {
            const newNumber = newNumberInput.value.trim();
            
            if (!newNumber) {
                showMessage('Harap masukkan nomor', 'error');
                return;
            }
            
            try {
                showMessage('Menambahkan nomor...', 'info');
                
                // Ambil data JSON saat ini
                const currentDataResponse = await fetch(`https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/${GITHUB_FILE_PATH}`);
                const currentData = await currentDataResponse.json();
                
                // Tambahkan nomor baru
                const updatedNumbers = [...(currentData.numbers || []), parseInt(newNumber)];
                
                // Update file di GitHub
                await updateGitHubFile(updatedNumbers);
                
                hideAddNumberModal();
                loadNumbers();
                showMessage('Nomor berhasil ditambahkan', 'success');
            } catch (error) {
                console.error('Error adding number:', error);
                showMessage('Gagal menambahkan nomor: ' + error.message, 'error');
            }
        }
        
        // Fungsi untuk menampilkan modal konfirmasi hapus
        function showDeleteConfirmModal() {
            const selectedNumbers = getSelectedNumbers();
            
            if (selectedNumbers.length === 0) {
                showMessage('Pilih setidaknya satu nomor untuk dihapus', 'error');
                return;
            }
            
            deleteCount.textContent = selectedNumbers.length;
            confirmDeleteModal.style.display = 'flex';
        }
        
        // Fungsi untuk menyembunyikan modal konfirmasi hapus
        function hideDeleteConfirmModal() {
            confirmDeleteModal.style.display = 'none';
        }
        
        // Fungsi untuk menghapus nomor yang dipilih
        async function deleteSelectedNumbers() {
            const selectedNumbers = getSelectedNumbers();
            
            try {
                showMessage('Menghapus nomor...', 'info');
                
                // Ambil data JSON saat ini
                const currentDataResponse = await fetch(`https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}/${GITHUB_FILE_PATH}`);
                const currentData = await currentDataResponse.json();
                
                // Hapus nomor yang dipilih
                const updatedNumbers = (currentData.numbers || []).filter(number => !selectedNumbers.includes(number));
                
                // Update file di GitHub
                await updateGitHubFile(updatedNumbers);
                
                hideDeleteConfirmModal();
                loadNumbers();
                showMessage('Nomor berhasil dihapus', 'success');
            } catch (error) {
                console.error('Error deleting numbers:', error);
                showMessage('Gagal menghapus nomor: ' + error.message, 'error');
            }
        }
        
        // Fungsi untuk mendapatkan nomor yang dipilih
        function getSelectedNumbers() {
            const checkboxes = document.querySelectorAll('.checkbox:checked');
            return Array.from(checkboxes).map(checkbox => parseInt(checkbox.dataset.number));
        }
        
        // Fungsi untuk memperbarui file di GitHub
        async function updateGitHubFile(numbers) {
            const updatedContent = {
                numbers: numbers
            };
            
            // Dapatkan SHA dari file saat ini
            const fileInfoResponse = await fetch(`https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/contents/${GITHUB_FILE_PATH}`, {
                headers: {
                    'Authorization': `token ${GITHUB_TOKEN}`,
                    'Accept': 'application/vnd.github.v3+json'
                }
            });
            
            if (!fileInfoResponse.ok) {
                throw new Error('Gagal mengambil informasi file dari GitHub');
            }
            
            const fileInfo = await fileInfoResponse.json();
            
            // Update file
            const updateResponse = await fetch(`https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/contents/${GITHUB_FILE_PATH}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${GITHUB_TOKEN}`,
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: `Update number list: ${new Date().toLocaleString()}`,
                    content: btoa(JSON.stringify(updatedContent, null, 2)),
                    sha: fileInfo.sha,
                    branch: GITHUB_BRANCH
                })
            });
            
            if (!updateResponse.ok) {
                const errorData = await updateResponse.json();
                throw new Error(errorData.message || 'Gagal memperbarui file');
            }
            
            return await updateResponse.json();
        }
        
        // Fungsi untuk menampilkan pesan
        function showMessage(text, type) {
            message.textContent = text;
            message.className = `message ${type}`;
            message.style.display = 'block';
            
            setTimeout(() => {
                if (message.textContent === text) {
                    message.style.display = 'none';
                }
            }, 5000);
        }
        
        // Event listener untuk menutup modal saat klik di luar konten
        window.addEventListener('click', (event) => {
            if (event.target === addNumberModal) {
                hideAddNumberModal();
            }
            if (event.target === confirmDeleteModal) {
                hideDeleteConfirmModal();
            }
        });
        
        // Event listener untuk update jumlah yang dipilih
        document.addEventListener('change', function(e) {
            if (e.target.classList.contains('checkbox')) {
                updateSelectedCount();
            }
        });
    </script>
</body>
</html>